(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14070],{294184:(e,t)=>{var s;!function(){var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var n=typeof s;if("string"===n||"number"===n)e.push(s);else if(Array.isArray(s)&&s.length){var o=i.apply(null,s);o&&e.push(o)}else if("object"===n)for(var a in s)r.call(s,a)&&s[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(s=function(){return i}.apply(t,[]))||(e.exports=s)}()},407043:(e,t,s)=>{s.d(t,{B:()=>l,v:()=>a});var r=s(385740),i=s(425288),n=s(785893);const{Provider:o,useHook:a}=(0,i.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:s}=(0,r.sV)();return t.injectSetViewContextDataFromHook=s,(0,n.jsx)(o,{value:t,children:e})}},112690:(e,t,s)=>{s.d(t,{Z:()=>i});var r=s(407043);const i=()=>(0,r.v)().logContextEvent},385740:(e,t,s)=>{s.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>a});var r=s(667294),i=s(425288),n=s(785893);const{Provider:o,useHook:a}=(0,i.Z)("View");let l;function c(){return l}function d({children:e,initialState:t={}}){const[s,i]=(0,r.useState)(t),a=(0,r.useCallback)((()=>{l={},i({})}),[]),c=(0,r.useCallback)((e=>{l={...l,...e},i((t=>({...t,...e})))}),[]),d=(0,r.useMemo)((()=>({viewContextData:s,clearViewContextData:a,setViewContextData:c})),[s,c,a]);return(0,n.jsx)(r.Fragment,{children:(0,n.jsx)(o,{value:d,children:e})})}function u(){const{viewContextData:e}=a();return e}},425288:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(667294),i=s(785893);function n(e,t){let s=e.slice(1);if(s=s.endsWith("Context")?s:`${s}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${s}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${s}`,messageDisplayName:`${e[0].toUpperCase()}${s}`}}function o(e,t){const s=(0,r.createContext)(t),{propsDisplayName:o,messageDisplayName:a}=n(e);s.displayName=a;const l=s.Provider,c=({children:e})=>{const t=(0,r.useContext)(s);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)},d=()=>(0,r.useContext)(s);function u(t){const{hocDisplayName:s}=n(e,String(t.displayName||t.name)),r=e=>(0,i.jsx)(c,{children:r=>{if(void 0===r)throw new Error(`${s} must be used within a ${a}Provider.`);if(e[o])throw new Error("Parent Component and Context are passing to the component the same variables.");const n={[o]:r};return(0,i.jsx)(t,{...e,...n})}});return r.displayName=s,r}return l.displayName=`${a}Provider`,c.displayName=`${a}Consumer`,u.displayName=`${a}HOC`,{Provider:l,Consumer:c,MaybeConsumer:({children:e})=>e((0,r.useContext)(s)),useMaybeHook:d,useHook:function(){const e=d();if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},deprecatedHOC:u}}},375571:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(667294),i=s(172071),n=s(395164);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a extends r.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,s=this.props.type||"secondary";(0,n.T)({errorBoundary:t,errorBoundaryType:s,message:e.message,name:e.name,stack:e.stack}),i.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(s){i.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:s}=this.state;return t&&s?e?e({error:t,info:s,resetError:this.resetError}):null:this.props.children}}},499128:(e,t,s)=>{s.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var r=s(667294),i=s(829407),n=s(50286),o=s(883119),a=s(785893);const l=200,c=({deviceType:e,hiding:t,visible:s})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...s?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...s&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function d({button:e,dataTestId:t,duration:s=2e3,href:d,iconThumbnail:u,imageUrl:p,onClick:h,onHide:m,openNewPage:g,text:v,thumbnailShape:b="square",variant:y="default"}){const f=(0,n.ZP)(),[_,x]=(0,r.useState)(!1),[w,T]=(0,r.useState)(!1),k=(0,r.useRef)(),C=()=>{x(!0),k.current=setTimeout(m,l)},S=()=>{k.current&&clearTimeout(k.current)},E=()=>{k.current=setTimeout(C,s)};(0,i.Z)((()=>(setTimeout((()=>T(!0)),100),E(),S)));const j="string"==typeof v?v:`${v[0]} ${v[1]}`,I=p?(0,a.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(o.Ee,{alt:j,fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}):void 0,P=(0,a.jsx)(o.FN,{button:e,text:v,thumbnail:null!=u?u:I,thumbnailShape:b,variant:y});return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:c({deviceType:f,hiding:_,visible:w})},"data-test-id":null!=t?t:"toast",onMouseEnter:S,onMouseLeave:E,children:d?(0,a.jsx)(o.iP,{role:"link",href:d,onTap:({event:e})=>null==h?void 0:h(e),target:g?"blank":null,rounding:"pill",children:P}):P})}},898781:(e,t,s)=>{s.d(t,{ZP:()=>a,oz:()=>n,q6:()=>i});var r=s(425288);const{Provider:i,Consumer:n,useHook:o}=(0,r.Z)("i18n"),a=o},12610:(e,t,s)=>{function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const i=1e6,n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:l,[o.stopped]:l,[o.paused]:l,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){r(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),r(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),r(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),r(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*i,endTime:Date.now()*i,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(n)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case o.flushed:case o.paused:case o.exit:a[this.debugId]=!0}}}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const s=this.mutationObservers.get(t);s&&s.offsetHeight<1&&s&&this.stop(s,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const s=this.activeImpressions.get(e);s&&(s.stop(t),this.mutationObservers.delete(s.mutationObserver),s.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const s=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(s)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:s}=t.getBoundingClientRect();return s>e?s:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:s}=t.getBoundingClientRect();return s<e?s:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const s={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,s),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,s)=>{s.d(t,{Z:()=>h});var r=s(667294),i=s(973935),n=s(834911),o=s(124580),a=s(407043),l=s(802201),c=s(785893);function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class p extends r.Component{constructor(e){super(e),d(this,"trackImpression",(()=>{try{this.node=(0,i.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),d(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:s,closeupNavigationType:r,componentType:i,contextLogData:n,elementType:o,impressionAuxFields:a,impressionType:l,loggingId:c,objectIdStr:d,slotIndex:p,trackCarousel:h,viewData:m,viewParameter:g,viewType:v,logContextEvent:b}=this.props,y=u[l],f=y.idType,_=e.forcedExit&&"removed"===e.forcedExit?0:void 0,x={endTime:e.endTime,[f]:c,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:s,...a,forcedExit:_};if(h||b({event_type:y.eventType,component:i,element:o,event_data:{[y.impressionType]:[x]},object_id_str:d,view_type:v,view_data:m||{},view_parameter:g,aux_data:{...n,closeup_navigation_type:r}}),t&&h){const{carousel_slots:e,index:s=0,id:r}=t;b({event_type:7352,component:i,event_data:{pinCarouselSlotImpressions:[{...x,carouselDataId:Number(r),carouselSlotId:(null==e?void 0:e[s])&&Number(e[s].id),slotIndex:s}]},object_id_str:d,view_type:v,view_data:m||{},view_parameter:g,aux_data:{...n}})}})),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return r.Children.only(this.props.children)}}function h(e){const{logContextEvent:t}=(0,a.v)(),{loggingId:s}=e,r=(0,l.AF)(),i=s?r[s]:{};return(0,c.jsx)(p,{...e,logContextEvent:t,carousel_data:(0,n.Z)({pin:i})})}},124580:(e,t,s)=>{s.d(t,{Z:()=>r});const r=new(s(12610).ZP)},53987:(e,t,s)=>{s.d(t,{wy:()=>j,Fw:()=>$,bo:()=>M,oF:()=>U,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>o,pD:()=>h,OJ:()=>l,LO:()=>se,Gl:()=>J,h3:()=>q,PY:()=>y,Ni:()=>b,pV:()=>I,L6:()=>E,b0:()=>v,jC:()=>L,O7:()=>Y,LM:()=>D,OK:()=>C,mP:()=>f,C$:()=>_,J3:()=>O,Fr:()=>W,Xn:()=>x,l4:()=>S,b_:()=>X,J:()=>a,dZ:()=>c,re:()=>T,RU:()=>G,Ui:()=>m,KY:()=>g,fY:()=>F,uM:()=>H,x7:()=>z,rk:()=>re,cD:()=>N,dW:()=>ie,Pu:()=>V,En:()=>P,ej:()=>ee,gf:()=>k,mY:()=>K,kY:()=>te,cY:()=>B,$Y:()=>Z,Zz:()=>w,$V:()=>R,j8:()=>A,YW:()=>Q});const r=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),i=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/csrf_error","/ct.html","/deactivate-account","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/story_pins","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var n=s(925927);const o=e=>r.test(e.pathname),a=(e,t)=>{const{pathname:s}=e;return o(e)&&s.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,n.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:s}=e;return l(e)&&s.match(t||"?")},d=e=>!!(0,n.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,n.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,n.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,n.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),g=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),v=e=>!!(0,n.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),b=e=>e.pathname.startsWith("/business/"),y=e=>e.pathname.startsWith("/business/invite/"),f=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),_=e=>"/"===e.pathname,x=e=>e.pathname.startsWith("/login"),w=e=>!!(0,n.LX)(e.pathname,{path:"/today",exact:!0}),T=e=>e.pathname.startsWith("/password/reset")||!!(0,n.LX)(e.pathname,{path:"/pw/:username",exact:!0}),k=e=>e.pathname.startsWith("/signup"),C=e=>e.pathname.startsWith("/email/subscription"),S=e=>e.pathname.startsWith("/notifications/"),E=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id",exact:!0}),j=e=>E(e)&&void 0===e.state,I=e=>e.pathname.startsWith("/pin_redirect"),P=e=>e.pathname.startsWith("/search"),O=e=>e.pathname.startsWith("/ideas"),R=e=>e.pathname.startsWith("/topics"),Z=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),M=e=>w(e)||Z(e)||e.pathname.startsWith("/today/popular/"),D=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),L=e=>e.pathname.startsWith("/pin/create/"),N=e=>!!(0,n.LX)(e.pathname,{path:"/:username/",exact:!0})&&!i.includes(e.pathname.replace(/\/$/,"")),A=e=>e.pathname.startsWith("/unauth-profile"),H=e=>e.pathname.startsWith("/pin/"),W=e=>"#imgViewer"===e.hash,F=e=>!!(0,n.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),$=e=>(e=>new RegExp("invite_code").test(e.search))(e)&&((F(e)?"pin":o(e)&&"board")||N(e)&&"profile")||null,z=e=>e.pathname.includes("/repin/x"),B=e=>e.pathname.startsWith("/_/storyboard"),X=e=>e.pathname.startsWith("/oauth"),U=e=>e.pathname.startsWith("/app-factory-oauth"),V=e=>e.pathname.includes("/scheduled-pin/"),J=e=>e.pathname.startsWith("/business/convert"),q=e=>e.pathname.startsWith("/business/hub"),Y=e=>e.pathname.startsWith("/pin-editor"),G=e=>e.pathname.startsWith("/pin-builder"),K=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),Q=e=>e.pathname.startsWith("/advertiser/quick-promote"),ee=e=>e.pathname.startsWith("/settings"),te=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),se=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),re=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ie=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/")},623568:(e,t,s)=>{s.d(t,{Js:()=>n,NK:()=>v,Nc:()=>b,VX:()=>o,Zt:()=>m,_J:()=>c,_Q:()=>i,cL:()=>p,dZ:()=>_,hb:()=>g,hy:()=>l,iR:()=>r,jL:()=>a,o:()=>y,pU:()=>f,rM:()=>h,sV:()=>d,sY:()=>u});const r=e=>!!e&&!!e.video_list,i=e=>!!e.promoted_is_lead_ad,n=(e,t)=>{let s=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(s=t.full_name),s},o=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoter&&!e.is_downstream_promotion,l=({story_pin_data_id:e})=>!!e,c=e=>!!e.video_status&&5!==e.video_status,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,p=e=>!(!e.embed||!e.embed.src||u(e.embed.type)||(e=>!!e.embed&&"pinstory"===e.embed.subtype)(e)),h=({mobile_link:e,tracked_link:t,link:s})=>!e&&!t&&!s,m=e=>{var t,s,r;return e?e.mobile_link||e.tracked_link||e.link||(null!==(t=null===(s=(null!==(r=e.images)&&void 0!==r?r:{}).orig)||void 0===s?void 0:s.url)&&void 0!==t?t:""):null},g=e=>{const t="image";return e?l(e)?"storyPin":r(e.videos)?"video":t:t},v=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function b(e){var t,s;return!r(e.videos)&&!l(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(s=t.creator_analytics)||void 0===s?void 0:s["30d_realtime"])||{}).length}function y(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function f(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function _(e){var t,s;return!(null===(t=e.creator_analytics)||void 0===t||null===(s=t["30d_realtime"])||void 0===s||!s.is_realtime)}},862624:(e,t,s)=>{s.d(t,{Y:()=>n,u:()=>i});var r=s(425288);const{Provider:i,useHook:n}=(0,r.Z)("ExperimentContext")},466225:(e,t,s)=>{s.d(t,{Z:()=>r});const r=e=>e.startsWith("enabled")||e.startsWith("employee")},217468:(e,t,s)=>{s.d(t,{a:()=>a,t:()=>o});var r=s(667294),i=s(466225),n=s(862624);function o(e){const t=(0,n.Y)(),s=t.v2GetGroup(e)||"",o=(0,i.Z)(s),a=(e=>{const t=(0,r.useRef)(!1),s=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{t.current=!0,s.current&&e()}),[]),()=>{t.current?e():s.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||a(),{group:s,anyEnabled:o})}function a(e,t=!0){const s=o(e);return t?s():{group:"",anyEnabled:!1}}},886858:(e,t,s)=>{s.d(t,{Z:()=>o,k:()=>n});const r=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),i=e=>!r.has(e)&&!e.startsWith("__track__");function n(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[s,r]=t.split("=");return e[s]=JSON.parse(r),e}),{})}const o=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(i).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},379725:(e,t,s)=>{s.d(t,{U2:()=>l,bi:()=>c,v_:()=>d});var r=s(886858),i=s(6637),n=s(414327),o=s(718368);function a({fetchOptions:e,resource:t,retry:s}){return(l,c)=>{var d,u,p;const{bookmark:h,headers:m,options:g,refresh:v,schema:b}=e,y=(0,r.Z)(g);if(null!==(d=c().resources)&&void 0!==d&&null!==(u=d[t])&&void 0!==u&&null!==(p=u[y])&&void 0!==p&&p.fetching&&!s)return Promise.resolve();const f=s?s.bookmark:h,_=f?{...g,bookmarks:[f]}:g;return l((0,n.LQ)(t,g,!0)),i.ZP.create(t,_).callGet(void 0,m).then((r=>{var c,d,u;const p=null===(c=r.resource_response)||void 0===c?void 0:c.data,[m]=r.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==o.q){const r=s?s.count:0;if(!(r>=o.s))return l(a({resource:t,fetchOptions:e,retry:{count:r+1,bookmark:m}}))}null===(d=i.ZP.customDataManipulations)||void 0===d||d.call(i.ZP,t,p,g);const{normalizedResponse:y,resourceSchema:f}=(null===(u=i.ZP.normalizeResponse)||void 0===u?void 0:u.call(i.ZP,{data:p,opts:{bookmark:h,options:g,schema:b},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?l((0,n.Dm)(t,g,r,y,f)):(l((0,n.Sr)(t,g,r,y,v,f)),i.ZP.fetchCompleteCallback&&i.ZP.fetchCompleteCallback({resource:t,options:g,response:r,normalizedResponse:y,refresh:v,resourceSchema:f})),Promise.resolve()}),(e=>{l((0,n.Tl)(t,g,e))}))}}const l=(e,{bookmark:t,headers:s,options:r,schema:i})=>a({resource:e,fetchOptions:{bookmark:t,headers:s,options:r,refresh:!1,schema:i}}),c=(e,{headers:t,options:s,schema:r})=>a({resource:e,fetchOptions:{headers:t,options:s,refresh:!0,schema:r}});function d(e,t,s){return r=>{const{options:o}=t;return i.ZP.create(e,o).callCreate().then((t=>{var i;if(null!==(i=t.resource_response)&&void 0!==i&&i.data){const i=t.resource_response.data,a=(null==s?void 0:s(i))||null;r((0,n.XM)(e,o,t,a))}return t}),(t=>(r((0,n.Tl)(e,o,t)),t)))}}},718368:(e,t,s)=>{s.d(t,{q:()=>r,s:()=>i});const r="-end-",i=10},338739:(e,t,s)=>{s.d(t,{AF:()=>r,KK:()=>i,aW:()=>a,cR:()=>n,se:()=>l,zP:()=>o});const r="CREATE_COMPLETE",i="FETCHING",n="FETCH_ERROR",o="FETCH_COMPLETE",a="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},414327:(e,t,s)=>{s.d(t,{Dm:()=>l,LQ:()=>n,Sr:()=>a,Tl:()=>o,XM:()=>i,jB:()=>c});var r=s(338739);function i(e,t,s,i){return{type:r.AF,payload:{resource:e,options:t,response:s,normalizedResponse:i}}}function n(e,t,s){return{type:r.KK,payload:{resource:e,options:t,isFetching:s}}}const o=(e,t,s)=>({type:r.cR,payload:{resource:e,options:t,error:s}});function a(e,t,s,i,n,o){return{type:r.zP,payload:{isRefresh:n,normalizedResponse:i,options:t,resource:e,response:s,schema:o}}}function l(e,t,s,i,n){return{type:r.aW,payload:{resource:e,options:t,response:s,normalizedResponse:i,schema:n}}}function c(e,t){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,s)=>{s.d(t,{Z:()=>u});var r=s(667294),i=s(966338),n=s(886858),o=s(718368),a=s(925927),l=s(780280),c=s(379725);const d={};function u({dangerouslyDisableFetch:e,enabledRouteRefresh:t,__unstableEnableSuspenseSupport:s,headers:u,name:p,noCache:h,options:m,schema:g}){const v=(0,i.useDispatch)(),b=(0,n.Z)(m),y=(0,r.useRef)(null),f=(0,r.useRef)(),_=(0,a.k6)(),x=_&&"POP"!==_.action,w=e=>(e[p]||d)[b]||d,T=(0,i.useSelector)((({resources:e})=>w(e).nextBookmark)),k=(0,i.useSelector)((({resources:e})=>w(e).data)),C=(0,i.useSelector)((({resources:e})=>w(e).auxData)),S=(0,i.useSelector)((({resources:e})=>w(e).error)),E=(0,i.useSelector)((({resources:e})=>Boolean(w(e).fetching))),j=Boolean(S)||void 0!==k,I=j&&!E&&T===o.q,P=Boolean(j&&t&&x&&!e),[O,R]=(0,r.useState)(P),Z=(0,r.useCallback)((e=>{y.current=v((0,c.U2)(p,{options:m,schema:g,bookmark:e,headers:u}))}),[v,p,b,g,u]),M=()=>{y.current=v((0,c.bi)(p,{options:m,schema:g,headers:u}))},{isBot:D}=(0,l.B)(),L=()=>{if(!e&&f.current!==b){const e=void 0===f.current;f.current=b,!j&&!E||e&&S&&(({httpStatus:e})=>!e||e>=500)(S)?Z():(!D&&h||P)&&M()}};(0,r.useEffect)((()=>{s||L()})),s&&L();const N=(0,r.useCallback)((()=>{e||(M(),R(!0))}),[e,c.bi,p,b,u,R]),A=(0,r.useCallback)((()=>{!T||I||E||e||Z(T)}),[e,Z,T,I,E]);if(y.current)if(j&&!E)y.current=null;else if(s)throw y.current;const H=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:A,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),W={auxData:C,data:k,error:S,fetchMore:A,isAtEnd:I,isFetching:E,isLoaded:j,isRefreshing:O,nextBookmark:T,refresh:N};return(0,i.shallowEqual)(W,H.current)||(!O||!H.current.data&&P||(0,i.shallowEqual)(W.data,H.current.data)||(W.isRefreshing=!1,R(!1)),H.current=W),H.current}},391143:(e,t,s)=>{s.d(t,{Z:()=>i});var r=s(643913);function i({storyCategory:e,query:t,referringSource:s,bubbleId:i,storyId:n}){const o=[0,24,21,26].includes(e),a=(0,r.Z)({q:t,rs:s||void 0,b_id:i,source_id:n});return o?`/discover/article/${i}`:"/search/pins/"+(a?"?"+a:"")}},622096:(e,t,s)=>{s.d(t,{L_:()=>i,Nh:()=>n,qn:()=>r});const r=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(s){return window.console.error("Cannot access sessionStorage."),t}},i=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},n=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(s){window.console.error("Cannot access sessionStorage.")}}},940882:(e,t,s)=>{s.d(t,{J:()=>r,Z:()=>i});const r=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},858791:(e,t,s)=>{s.d(t,{Z:()=>r});const r=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},66699:(e,t,s)=>{s.d(t,{Z:()=>n});var r=s(985913),i=s(858791);const n=(e,t)=>{const s={};return Object.keys(t).forEach((e=>{s[e]=t[e]?(0,i.Z)(t[e].toString()):""})),(0,r.Z)(e,s)}},867820:(e,t,s)=>{s.d(t,{yl:()=>h,an:()=>f,qJ:()=>m,dy:()=>w,De:()=>_,NC:()=>y,LW:()=>x,My:()=>b,tj:()=>g,hL:()=>v});var r=s(231486),i=s(6637),n=s(826067),o=s(226198);const a="unauthHistories",l="trackHistoryClickInternalUrl";var c=s(622096),d=s(53987);let u=[];let p;function h(e){u.length&&(i.ZP.create("UserRegisterTrackActionResource",{actions:u}).callUpdate({showError:!1,async:!e}),u=[],p=null)}const m=e=>{!function(e){const t=(0,c.qn)(l);if((0,c.L_)(l),t)return;let s=(0,c.qn)(a);if(s=s?s.split(","):[],s.length){const t=`${e}.${s.reduce(((e,t)=>e+"-"+t))}`;u.push({name:t,aux_data:{}})}(0,c.L_)(a)}(e),u.length&&h(!0)};function g(e,t){let s="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==s.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=s,s="track_register_action.web.invalid_action.with_percent"),u.push({name:s,aux_data:t}),p||(p=setTimeout((()=>h()),5e3)),function(e,t){if("undefined"!=typeof window)try{const s=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||s){const s=window.PINTEREST_DEV_REGEX||"";s&&!(e||"").match(s)||("object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(s){}}(e,t)}function v(e,t){g(e,{tags:{...t}})}function b(e){g(e,{tags:{}})}function y(e,t=!1){if("undefined"==typeof window)return;let s=(0,c.qn)(a);s=s?s.split(","):[],s.push(e),(0,c.Nh)(a,s.join()),b(`lex.${e}`),t&&(0,c.Nh)(l,!0)}const f=()=>{const e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=r.U2(o.tg)||document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"},_=e=>{e.action&&e.event?(e.type=e.type||"other",e.trigger=e.trigger||"other",e.referrer=f(),v("pinner_conversion",e)):v("pinner_conversion.missing_tags")},x=e=>{const t=(s=e.pageLocation,(0,d.L6)(s)?"pin":(0,d.am)(s)?"board":(0,d.Xn)(s)?"login":(0,d.C$)(s)?"home":(0,d.cD)(s)?"profile":(0,d.J3)(s)?"ideas":(0,d.$Y)(s)?"article":(0,d.Zz)(s)?"today":(0,d.j8)(s)?"unauth-profile":"other");var s;const r=e.item||"none",i=e.within||"none";v(`logged_out_product.interaction.${t}.${e.action}`,{item:r,within:i})},w=e=>{v(`pinner_conversion.autologin.${e.provider}.${e.event}`)}},343341:(e,t,s)=>{s.d(t,{F9:()=>o,Zo:()=>i,nE:()=>n});var r=s(425288);const{Provider:i,Consumer:n,useHook:o}=(0,r.Z)("toastManagerContext")},829407:(e,t,s)=>{s.d(t,{Z:()=>i});var r=s(667294);const i=e=>{(0,r.useEffect)(e,[])}},19121:(e,t,s)=>{s.d(t,{$:()=>i,Z:()=>o});var r=s(425288);const{Provider:i,useHook:n}=(0,r.Z)("viewer"),o=n},802201:(e,t,s)=>{s.d(t,{AF:()=>n,S6:()=>o,_S:()=>i});var r=s(425288);const{Provider:i,useHook:n}=(0,r.Z)("Pins");function o(){const e=n();return t=>e[t]}},57636:(e,t,s)=>{s.d(t,{Z:()=>g});var r=s(667294),i=s(116303),n=s(63444),o=s(564194),a=s(391143),l=s(667976),c=s(66699),d=s(898781),u=s(19121),p=s(940882),h=s(883119),m=s(785893);function g({bubble:e,contextLogData:t,disableTabIndex:s,handleReport:g,height:v,imgSignature:b,isHovered:y,onClick:f,onMouseEnter:_,onMouseLeave:x,referringSource:w,searchBoxRenderStopwatch:T,showFlag:k,slotIndex:C,storyId:S,viewParameter:E,viewType:j,width:I}){const P=(0,d.ZP)(),O=(0,u.Z)(),{id:R,action:Z,cover_images:M,dominant_colors:D,identifier_icon_type:L,title:N,story_category:A,curator:H}=e,W=M&&M[0]?M[0]["280x280"]||M[0]["236x"]:void 0,F=(0,c.Z)(N&&N.format||"",N&&N.args||{}),$=D&&D.length?D[0]:"gray",z=(null==Z?void 0:Z.url)||(0,a.Z)({storyCategory:A,query:F,referringSource:w,bubbleId:R,storyId:S});return(0,m.jsx)(o.Z,{impressionAuxFields:{storyCategory:A,storyIdStr:S},impressionType:"Article",loggingId:R,viewType:j,viewParameter:E,slotIndex:C,contextLogData:{story_id:S,...t},children:(0,m.jsx)(n.Z,{backgroundColor:$,coverImage:W,disableTabIndex:s,height:v,id:R,isHovered:y,onClick:f,onMouseEnter:_,onMouseLeave:x,searchBoxRenderStopwatch:T,url:z,width:I,children:({isHovered:e})=>(0,m.jsxs)(r.Fragment,{children:[H&&26!==A&&(0,m.jsx)(h.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,m.jsx)(i.Z,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),L&&L!==p.J&&(0,m.jsx)(h.xu,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,m.jsx)(h.JO,{icon:(0,p.Z)(L),accessibilityLabel:P._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,m.jsx)(h.xu,{display:"flex",height:v,width:I||"100%",position:"absolute",top:!0,padding:3,alignItems:26===A?"end":"center",justifyContent:"center",children:(0,m.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[v>200?(0,m.jsx)(h.X6,{size:"500",align:"center",color:"light",children:F}):(0,m.jsx)(h.xv,{align:"center",color:"light",weight:"bold",children:F}),H&&26===A&&(0,m.jsxs)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,m.jsx)(h.xu,{marginEnd:2,children:(0,m.jsx)(i.Z,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),(0,m.jsx)(h.xv,{size:"100",color:"light",children:H.full_name})]})]})}),O.isAuth&&O.isEmployee&&k?(0,m.jsx)(h.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,m.jsx)(l.Z,{handleReport:g,imgSignature:b||"",isVisible:e})}):null]})})})}},63444:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(667294),i=s(883119),n=s(785893);const o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function a({backgroundColor:e,children:t,coverImage:s,disableTabIndex:a,height:l,id:c,isHovered:d,onClick:u,onMouseEnter:p,onMouseLeave:h,url:m,width:g,searchBoxRenderStopwatch:v}){var b,y;const[f,_]=(0,r.useState)(!1),x=()=>{p?p():_(!0)},w=()=>{h?h():_(!1)},T=d||f;return(0,n.jsx)(i.iP,{role:"link",href:m,onBlur:w,onMouseLeave:w,onFocus:x,onMouseEnter:x,onTap:()=>{null==u||u(c)},rounding:4,tabIndex:a?-1:void 0,children:(0,n.jsx)(i.zd,{rounding:4,width:g||"100%",height:l,children:null!=s&&s.url?(0,n.jsxs)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(b=s.height)&&void 0!==b?b:1,naturalWidth:null!==(y=s.width)&&void 0!==y?y:1,onLoad:()=>{null==v||v.stop()},role:"presentation",src:s.url,children:[(0,n.jsx)(i.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:T?o.hoverOverlay:o.bubbleOverlay}}),"function"==typeof t?t({isHovered:T}):t]}):(0,n.jsx)(i.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},958155:(e,t,s)=>{s.d(t,{Z:()=>p});var r=s(667294);const i={backgroundColor:"transparent"},n={backgroundColor:"rgba(216, 216, 216, 0.37)"},o={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},a={outline:"0"};var l=s(883119),c=s(785893);function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class u extends r.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),d(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:s="subtle"}=this.props,r=Object.freeze({height:e,width:e}),d={border:0,display:"block",background:"transparent",cursor:"pointer",...a},u={...r,...{...o,...i,...this.state.hovered?n:{}}};return(0,c.jsx)("button",{type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:u,children:(0,c.jsx)(l.xu,{rounding:"circle",children:(0,c.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:s})})})})}}const p=u},667976:(e,t,s)=>{s.d(t,{Z:()=>g});var r=s(667294),i=s(958155),n=s(121151),o=s(6637),a=s(499128),l=s(844949),c=s(898781),d=s(343341),u=s(883119),p=s(785893);function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class m extends r.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:s}=t.props;t.setState({showModal:!1});s((await o.ZP.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(a.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(r.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(i.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(n.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(u.xu,{children:[(0,p.jsx)(u.xu,{padding:5,children:(0,p.jsx)(u.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(u.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.EU,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"textType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.EU,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"imageType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})})]})}}function g(e){const t=(0,c.ZP)(),{reportImage:s}=(0,l.f)();return(0,p.jsx)(m,{...e,i18n:t,reportImage:s,toastManagerContext:(0,d.F9)()})}},844949:(e,t,s)=>{s.d(t,{X:()=>d,f:()=>c});var r=s(667294);function i(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var n=s(425288),o=s(623568),a=s(785893);const{Provider:l,useHook:c}=(0,n.Z)("ReportData");function d({children:e}){const[t,s]=(0,r.useReducer)(i,null),n=(0,r.useCallback)((()=>s({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,r.useCallback)(((e,t,r)=>s({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"aggregatedComment"}})),[]),d=(0,r.useCallback)(((e,t,r)=>s({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"pin"}})),[]),u=(0,r.useCallback)(((e,t,r)=>{const{id:i,videos:n}=e,a=(0,o.VX)(e),l=(0,o.jL)(e);let c;if((0,o.iR)(n)&&n){const{video_list:e={}}=n,t=e[Object.keys(e)[0]];c=t&&t.duration}s({type:"REPORT_CONTENT_SHOW",payload:{id:i,isProduct:a,isPromoted:l,videoDuration:c,viewParameter:t,viewType:r,type:"pin"}})}),[]),p=(0,r.useMemo)((()=>({reportData:t,dismiss:n,reportComment:c,reportImage:d,reportPin:u})),[t,n,c,d,u]);return(0,a.jsx)(l,{value:p,children:e})}},395164:(e,t,s)=>{s.d(t,{T:()=>o,Z:()=>a});var r=s(226198),i=s(314880);const n=[];function o(e){let t;try{t=JSON.stringify({errorObj:e})}catch(l){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const s=(o={report_context:JSON.stringify({current_url:window.location.href,client_version:"542264c"}),report_data:t},Object.keys(o).map((e=>e+"="+encodeURIComponent(o[e]))).join("&"));var o;const a=window.btoa(s);if(-1===n.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,i.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(r.fS)),e.send(s),n.push(a)}n.length>100&&n.shift()}function a(){window.addEventListener("error",(e=>{const t=e.error||{};o({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,s,r,i,n;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);o({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(s=null!==(r=null==a?void 0:a.lineno)&&void 0!==r?r:null==a?void 0:a.line)&&void 0!==s?s:null==a?void 0:a.lineNumber,column:null!==(i=null!==(n=null==a?void 0:a.column)&&void 0!==n?n:null==a?void 0:a.colno)&&void 0!==i?i:null==a?void 0:a.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/14070-6eb79696b48499ef.mjs.map